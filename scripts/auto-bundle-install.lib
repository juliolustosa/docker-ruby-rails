#  Gemfile modified
modified() {
  if ! diff -q $APP_GEMFILE $TMP_GEMFILE >/dev/null
  then
    gemfile
  fi
}

# Gemfile exists
gemfile() {
  if [ -f "$APP_GEMFILE" ]
  then
  	copyLock
  else
    echo "Gemfile not found."
  fi
}

# Bundle install
copyLock() {
  touch $APP_GEMFILE_LOCK
  bundle install
  mkdir -p /tmp
  cp $APP_GEMFILE $TMP_GEMFILE
}
